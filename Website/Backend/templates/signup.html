{% extends "base.html" %}

{% block title %}Sign Up - Movie Store{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/signUp.css') }}">
  <style>
    .signup-container {
      position: relative;
      z-index: 2;
    }
    .signup-container .form-signUp {
      background: rgba(30,30,30,0.85);
      padding: 2rem;
      border-radius: 0.5rem;
    }
  </style>
{% endblock %}

{% block content %}
  <!-- particles background -->
  <div id="particles-js" class="position-fixed top-0 start-0 w-100 h-100"></div>

  <main class="d-flex align-items-center justify-content-center vh-100">
    <div class="signup-container">
      <form action="{{ url_for('auth.signUp') }}" method="POST" class="form-signUp text-white">
        <h1 class="h3 mb-3 fw-normal text-center">Sign Up</h1>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div id="flash-messages" class="mb-3">
              {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <div class="form-floating mb-3">
          <input type="text" name="username" class="form-control bg-dark text-white border-secondary" 
                 id="floatingUsername" placeholder="Username" required autocomplete="username">
          <label for="floatingUsername">Username</label>
        </div>

        <div class="form-floating mb-3">
          <input type="text" name="first_name" class="form-control bg-dark text-white border-secondary" 
                 id="floatingFirstName" placeholder="First Name" required>
          <label for="floatingFirstName">First Name</label>
        </div>

        <div class="form-floating mb-3">
          <input type="text" name="last_name" class="form-control bg-dark text-white border-secondary" 
                 id="floatingLastName" placeholder="Last Name" required>
          <label for="floatingLastName">Last Name</label>
        </div>

        <div class="form-floating mb-3">
          <input type="tel" name="phone" class="form-control bg-dark text-white border-secondary" 
                 id="floatingPhone" placeholder="Phone Number" required autocomplete="tel">
          <label for="floatingPhone">Phone Number</label>
        </div>

        <div class="form-floating mb-3">
          <input type="email" name="email" class="form-control bg-dark text-white border-secondary" 
                 id="floatingEmail" placeholder="Email" required autocomplete="email">
          <label for="floatingEmail">Email</label>
        </div>

        <div class="form-floating mb-3">
          <input type="password" name="password" class="form-control bg-dark text-white border-secondary" 
                 id="floatingPassword" placeholder="Password" required autocomplete="new-password">
          <label for="floatingPassword">Password</label>
        </div>

        <div class="form-floating mb-3">
          <input type="password" name="confirm_password" class="form-control bg-dark text-white border-secondary" 
                 id="floatingConfirmPassword" placeholder="Confirm Password" required autocomplete="new-password">
          <label for="floatingConfirmPassword">Confirm Password</label>
        </div>

        <div class="text-center">
          <button class="w-50 btn btn-lg btn-primary" type="submit">Sign Up</button>
        </div>

        <div class="mt-3 text-center">
          <small>Already have an account?
            <a href="{{ url_for('auth.login') }}">Log in here</a>.
          </small>
        </div>
      </form>
    </div>
  </main>
{% endblock %}

{% block extra_js %}
  <script src="{{ url_for('static', filename='js/particles.min.js') }}"></script>
  <script>
    particlesJS.load('particles-js', '/static/particles.json', function() {
      console.log('particles.js loaded - callback');
    });
  </script>
{% endblock %}
