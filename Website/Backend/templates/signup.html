{% extends "base.html" %}

{% block title %}Sign Up – Movie Store{% endblock %}

{% block body_class %}signup-page{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/signUp.css') }}">
{% endblock %}

{% block content %}
  <div id="particles-js"></div>

  <div class="signup-container">
    <form action="{{ url_for('auth.signUp') }}"
          method="POST"
          class="form-signUp">

      <h1 class="mb-3">Sign Up</h1>

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div id="flash-messages" class="mb-3">
            {% for category, message in messages %}
              <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <div class="form-floating mb-3">
        <input type="text"
               id="floatingUsername"
               name="username"
               class="form-control"
               placeholder="Username"
               required
               autocomplete="username">
        <label for="floatingUsername">Username</label>
      </div>

      <div class="form-floating mb-3">
        <input type="text"
               id="floatingFirstName"
               name="first_name"
               class="form-control"
               placeholder="First Name"
               required>
        <label for="floatingFirstName">First Name</label>
      </div>

      <div class="form-floating mb-3">
        <input type="text"
               id="floatingLastName"
               name="last_name"
               class="form-control"
               placeholder="Last Name"
               required>
        <label for="floatingLastName">Last Name</label>
      </div>

      <div class="form-floating mb-3">
        <input type="tel"
               id="floatingPhone"
               name="phone"
               class="form-control"
               placeholder="Phone Number"
               required
               autocomplete="tel">
        <label for="floatingPhone">Phone Number</label>
      </div>

      <div class="form-floating mb-3">
        <input type="email"
               id="floatingEmail"
               name="email"
               class="form-control"
               placeholder="Email"
               required
               autocomplete="email">
        <label for="floatingEmail">Email</label>
      </div>

      <div class="form-floating mb-3">
        <input type="password"
               id="floatingPassword"
               name="password"
               class="form-control"
               placeholder="Password"
               required
               autocomplete="new-password">
        <label for="floatingPassword">Password</label>
      </div>

      <div class="form-floating mb-4">
        <input type="password"
               id="floatingConfirmPassword"
               name="confirm_password"
               class="form-control"
               placeholder="Confirm Password"
               required
               autocomplete="new-password">
        <label for="floatingConfirmPassword">Confirm Password</label>
      </div>

      {# submit button #}
      <div class="d-grid">
        <button type="submit" class="btn btn-primary">Sign Up</button>
      </div>

      {# switch to login #}
      <p class="text-center mt-3 mb-0">
        <small>
          Already have an account?
          <a href="{{ url_for('auth.login') }}">Log in here</a>.
        </small>
      </p>
    </form>
  </div>
{% endblock %}

{% block extra_js %}
  <script src="{{ url_for('static', filename='js/particles.min.js') }}"></script>
  <script>
    particlesJS.load('particles-js', '/static/particles.json');
  </script>
{% endblock %}
