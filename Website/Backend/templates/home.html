{% extends "base.html" %}

{% block title %}Home - Movie Rentals{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section d-flex align-items-center text-center text-white">
  <div class="container position-relative z-2">
    <h1 class="display-3 fw-bold mb-4 animate__animated animate__fadeInDown">
      Discover, Rent, Enjoy.
    </h1>
    <p class="lead mb-4 animate__animated animate__fadeInUp">
      Stream your favorite movies anytime, anywhere.
    </p>
    <a href="/inventory2" class="btn btn-primary btn-lg me-3 animate__animated animate__fadeInUp">
      Browse Movies
    </a>
    <a href="/user_Rentals" class="btn btn-outline-light btn-lg animate__animated animate__fadeInUp">
      My Dashboard
    </a>
  </div>
</section>

<!-- How It Works -->
<section class="py-5 how-it-works text-center text-light">
  <div class="container">
    <h2 class="mb-5">How It Works</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <i class="fas fa-film fa-3x mb-3"></i>
        <h5>Browse</h5>
        <p>Discover a wide range of movies from all genres.</p>
      </div>
      <div class="col-md-4">
        <i class="fas fa-cart-plus fa-3x mb-3"></i>
        <h5>Add to Cart</h5>
        <p>Select your favorites and add them to your cart.</p>
      </div>
      <div class="col-md-4">
        <i class="fas fa-play-circle fa-3x mb-3"></i>
        <h5>Watch</h5>
        <p>Stream instantly or watch later from your dashboard.</p>
      </div>
    </div>
  </div>
</section>

<!-- Featured Movies (Optional Dynamic Block) -->
<section class="py-5 bg-dark">
  <div class="container">
    <h2 class="text-white text-center mb-4">Top Picks for You</h2>
    <div class="row g-4">
      {% for movie in featured_movies %}
      <div class="col-md-3">
        <div class="movie-card h-100">
          <a href="/movie/{{ movie.movie_id }}">
            <img src="{{ url_for('static', filename='images/' ~ movie.image_path) }}"
                 alt="{{ movie.title }}"
                 class="inventory-img rounded-top w-100"
                 onerror="this.onerror=null;this.src='/static/images/keyboard.jpg';">
          </a>
          <div class="p-3">
            <h5 class="text-white">{{ movie.title }}</h5>
            <p class="text-muted">${{ '%.2f'|format(movie.price) }}</p>
            <button class="btn btn-outline-light add-to-cart-btn"
                    data-movie-id="{{ movie.movie_id }}"
                    data-title="{{ movie.title }}"
                    data-price="{{ movie.price }}">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}

{% block extra_css %}
<!-- Animate.css for animations -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/cart.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/toast.js') }}" defer></script>
{% endblock %}
